<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Challenge Minders</title>
</head>
<body>
   {% extends "base.html" %}
   {% load static %}

        {% block content %}

        <style>
            .house-header {
                display: flex;
                align-items: center;
                gap: 25px;
                margin-bottom: 25px;
            }

            .house-header img {
                width: 120px;
                height: 120px;
                border-radius: 12px;
                object-fit: cover;
                box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            }

            .detail-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
                gap: 20px;
                margin-top: 20px;
            }

            .detail-card {
                background: #ffffff;
                padding: 20px;
                border-radius: 12px;
                border-left: 6px solid #305AC1;
                box-shadow: 0 2px 6px rgba(0,0,0,0.08);
            }

            .traits-list span {
                display: inline-block;
                background: #E9ECF7;
                padding: 6px 12px;
                border-radius: 8px;
                margin: 4px;
                font-size: 14px;
                font-weight: 500;
                color: #305AC1;
            }

            .section-title {
                font-size: 20px;
                font-weight: 600;
                margin-bottom: 8px;
            }

            .back-btn {
                margin-top: 25px;
                background: #305AC1;
                color: white;
                padding: 10px 18px;
                border-radius: 8px;
                border: none;
                cursor: pointer;
                font-weight: 600;
            }
        </style>

        <div class="detail-box">

            <!-- HEADER CON ESCUDO -->
            <div class="house-header">

                <img src="{% static 'img/houses/'|add:house.name|lower|add:'.png' %}"
                     alt="Escudo de {{ house.name }}"
                     onerror="this.style.display='none'">

                <div>
                    <h2>{{ house.name }}</h2>
                    <p style="font-size: 15px; color: #666;">
                        Colores: {{ house.houseColours|default:"No disponible" }}
                    </p>
                </div>
            </div>

            <!-- DESCRIPCIÓN -->
            <p><strong>Descripción:</strong> {{ house.description|default:"Sin descripción disponible" }}</p>


            <!-- GRID DE DETALLES -->
            <div class="detail-grid">

                <!-- FUNDADOR -->
                <div class="detail-card">
                    <div class="section-title">Fundador</div>
                    <p>{{ house.founder|default:"Desconocido" }}</p>
                </div>

                <!-- ANIMAL -->
                <div class="detail-card">
                    <div class="section-title">Animal Emblemático</div>
                    <p>{{ house.animal|default:"No disponible" }}</p>
                </div>

                <!-- FANTASMA -->
                <div class="detail-card">
                    <div class="section-title">Fantasma de la Casa</div>
                    <p>{{ house.ghost|default:"No disponible" }}</p>
                </div>

                <!-- LÍDERES -->
                <div class="detail-card">
                    <div class="section-title">Director(es) de Casa</div>
                    {% if house.heads %}
                        <ul>
                            {% for h in house.heads %}
                                <li>{{ h.firstName }} {{ h.lastName }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p>No disponible</p>
                    {% endif %}
                </div>

                <!-- COMMON ROOM -->
                <div class="detail-card">
                    <div class="section-title">Sala Común</div>
                    <p>{{ house.commonRoom|default:"Desconocida" }}</p>
                </div>

                <!-- TRAITS -->
                <div class="detail-card">
                    <div class="section-title">Características</div>
                    <div class="traits-list">
                        {% if house.traits %}
                            {% for t in house.traits %}
                                <span>{{ t.name }}</span>
                            {% endfor %}
                        {% else %}
                            <p>No hay características registradas.</p>
                        {% endif %}
                    </div>
                </div>

            </div>

            <button class="back-btn" onclick="window.location.href='/houses/'">Volver</button>

        </div>

        {% endblock %}


</body>
</html>